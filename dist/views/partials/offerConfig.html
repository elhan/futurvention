<div ng-cloak class="container-y apply-content apply-service-config" ng-controller="OfferConfigCtrl"> <div class="container-x"> <button class="btn btn-link text-p" ng-click="goToStep(2)"> <span class="space-after">&lt;&lt;</span> <span>Back to service catalogue</span> </button> </div> <div class="container-x"> <div class="wrapper-img"> <img ng-if="service.thumbnail.link" ng-src="{{service.thumbnail.link}}" class="img-responsive"> </div> <div class="wrapper-title text-h2">{{ service.title }}</div> </div> <div class="panel-group" ng-model="panels.activePanel" startcollapsed="false" animation="am-slide-top" bs-collapse> <div ng-repeat="panel in panels"> <div ng-class="{'panel':true, 'panel-success': panel.state === 'done', 'panel-default': panel.state === 'default'}"> <div class="panel-heading container-x flex-content-spread"> <div class="panel-title"> <a bs-collapse-toggle ng-click=" panel.state === 'done' && $index !== panels.activePanel && setPanelState(panel, 'default')"> <span class="text-blue" ng-show="$index !== panels.activePanel">+</span> <span class="text-blue" ng-show="$index === panels.activePanel">-</span> {{ panel.title }} </a> </div> <svg ng-if="panel.state === 'done'" class="icon icon-green text-p"> <use xlink:href="#tick"></use> </svg> </div> <div class="panel-collapse" bs-collapse-target> <div class="panel-body" ng-switch on="panels.activePanel"> <!-- Service Description --> <div ng-switch-when="0"> <div ng-if="service.description"> <div class="text-p-bold">Overview of the service</div> <div class="text-p" ng-bind-html="service.description"></div> </div> <div ng-if="service.deliverables"> <div class="text-p-bold">What you are expected to deliver</div> <div class="text-p" ng-bind-html="service.deliverables"></div> </div> <div ng-if="service.provision"> <div class="text-p-bold">What the buyer will provide before you start working</div> <div class="text-p" ng-bind-html="service.provision"></div> </div> <div ng-if="service.excluded"> <div class="text-p-bold">Services that are not part of the offer</div> <div class="text-p" ng-bind-html="service.excluded"></div> </div> </div> <!-- Work Samples --> <div ng-switch-when="1"> <!-- Owned Showcases --> <div ng-if="activeWorkSamples === 'owned'"> <div class="container-x"> <div class="text-p space-after">{{ service.showcasePrompt }}</div> <div class="text-p">(allowed file types: {{ service.allowedShowcaseFileTypes | displayMediaTypes}} )</div> </div> <div class="wrapper-icons"> <div class="container-x"> <div class="container-y flex-1 clickable" ng-if="importersAvailable" ng-click="toggleActiveWorkSamples()"> <div class="import-link bg-grey-dark text-white"> <svg class="icon icon-light nostroke icon-import"> <use xlink:href="#import"></use> </svg> </div> <div class="label-import-link">Select from imported</div> </div> <div class="container-y flex-1 clickable" ng-file-select="onFileSelect($files)" data-multiple="true"> <div class="import-link bg-grey-dark text-white"> <svg class="icon icon-light"> <use xlink:href="#upload"></use> </svg> </div> <div class="label-import-link">Upload</div> </div> <div class="container-y flex-1 clickable" ng-click="showEmbedUrlModal()"> <div class="import-link bg-grey-dark text-white embed">@</div> <div class="label-import-link">Embed Url</div> </div> </div> </div> <div class="space-x text-p" ng-show="showcaseItems.length > 0"> Click to select samples you want to showcase for this service. You may add a title to each sample (recommended). Remember to reorder them as only the first three will be displayed as cover images in search results. </div> <!-- Showcase --> <div class="flex-wrap"> <div class="showcase" ng-repeat="item in showcaseItems"> <div class="showcase-item thumbnail no-margin" ng-class="{'progress': item.state === 'loading', 'bg-img-small-centered': !item.hasOwnThumbnail}" ng-click="displayInDetail(item.ID)" fv-bg-image="{{item.link}}" fv-data="{{item.link}}" fv-draggable="item.state !== 'loading'" fv-drop-class="drag-over" fv-on-drop="rearangeShowcaseItems" fv-droppable> <!-- Remove button --> <div class="container-x flex-content-end" ng-show="item.state !== 'loading'"> <div class="wrapper-showcase-action" ng-click="removeShowcase(item); $event.stopPropagation();"> <svg class="icon icon-light"> <use xlink:href="#close"></use> </svg> </div> </div> <!-- Spinner --> <div class="showcase-overlay preview" ng-show="item.state === 'loading'"> <div class="loader"></div> </div> <!-- Video thumbnail play icon--> <div class="container-y flex-content-centered fullscreen" ng-if="item.hasOwnThumbnail && item.hasOwnProperty('file') && item.file.hasOwnProperty('FileTypeID') && item.file.FileTypeID === 5"> <div class="icon-play-wrapper"> <svg class="icon icon-light"> <use xlink:href="#play"></use> </svg> </div> </div> </div> <!-- Caption --> <div class="caption editable container-x flex-items-start flex-content-centered"> <svg class="icon icon-dark text-i"> <use xlink:href="#edit"></use> </svg> <textarea fv-caption rows="2" cols="30" class="text-i textarea-caption input-borderless" ng-model="item.name" ng-blur="updateShowcaseTitle(item)"></textarea> </div> </div> </div> </div> <!-- Imported Showcases --> <div ng-if="activeWorkSamples === 'imported'"> <div class="container-x space-bottom-2x"> <button class="btn btn-link text-p" ng-click="toggleActiveWorkSamples()"> <span class="space-after">&lt;&lt;</span> <span>Back to selected work samples</span> </button> <!--
                  <div  class="container-x" ng-show="saveImportedDataInProgress">
                    <div class="loader flex-items-centered space-right space-top-05"></div>
                    <div class="text-i flex-items-centered text-grey">Adding imported items to your offer...</div>
                  </div>
--> </div> <div class="container-y"> <div class="text-p space-bottom space-x">Click to select imported samples you want to showcase as part of this service</div> <!-- finished importers --> <div ng-repeat="importer in importersFinished" class="space-bottom"> <div class="container-x flex-items-centered"> <!-- This check has been added for cases where checkStatus Count and actualt fetched portfolios are inconsistent --> <svg class="icon icon-green text-p space-left" ng-if="(importer | fetchedPortfoliosCount:importedPortfolios) > 0"> <use xlink:href="#tick"></use> </svg> <svg class="icon icon-red-error text-i space-left" ng-if="(importer | fetchedPortfoliosCount:importedPortfolios) === 0"> <use xlink:href="#close"></use> </svg> <div class="text-p-bold space-left">{{importer | getProviderName}}</div> <div class="text-p space-after"> - </div> <div class="text-p space-after">{{importer | fetchedPortfoliosCount:importedPortfolios}}</div> <div class="text-p space-after">portfolio items imported</div> </div> </div> <!-- importers in progress--> <div ng-repeat="importer in importersInProgress" class="space-bottom progress-row"> <div class="container-x flex-items-centered"> <div class="loader"></div> <div class="text-p-bold space-left">{{importer | getProviderName}}</div> <div class="text-p space-after"> - </div> <div class="text-p space-after">{{importer | fetchedPortfoliosCount:importedPortfolios}}</div> <div class="text-p space-after">portfolio items imported</div> </div> </div> <!-- failed importers --> <div ng-repeat="importer in importersFailed" class="space-bottom progress-row"> <div class="container-x flex-items-centered"> <svg class="icon icon-red-error text-i space-left"> <use xlink:href="#close"></use> </svg> <div class="text-p-bold space-left">{{importer | getProviderName}}</div> <div class="text-p space-after"> - </div> <div class="text-p space-after">No portfolios could be imported presently.</div> </div> </div> </div> <!-- Imported Showcase --> <div ng-repeat="portfolio in importedPortfolios | hasShowcaseItems"> <div class="panel-inner"> <div class="text-p-bold">{{ portfolio.Provider }}</div> <button class="btn no-padding btn-link text-p" ng-click="toggleExpansion(portfolio)" ng-if="portfolio.data.length > 10"> <span ng-if="portfoliosExpanded.indexOf(portfolio) === -1">+ Show all</span> <span ng-if="portfoliosExpanded.indexOf(portfolio) > -1">- Collapse</span> </button> </div> <div class="flex-wrap"> <div class="showcase" ng-repeat="item in portfoliosExpanded.indexOf(portfolio) === -1 ? portfolio.data.slice(0, 10) : portfolio.data"> <div class="showcase-item thumbnail" ng-click="togglePortfolioSelection(item)" fv-bg-image="{{item|importedLink:item}}" fv-data="{{item|importedLink:item}}" ng-class="{'bg-img-small-centered': !item.hasOwnThumbnail}"> <!-- Overlay: selected --> <div class="showcase-overlay selected" ng-show="selectedPortfolios.indexOf(item) > -1"> <svg class="icon icon-light"> <use xlink:href="#tick"></use> </svg> </div> <!-- Overlay: selected disabled --> <div class="showcase-overlay selected disabled" ng-show="getImportedItemAddedStatus(item)"> <svg class="icon icon-light"> <use xlink:href="#tick"></use> </svg> </div> <!-- Overlay: selected disabled --> <div class="showcase-overlay disabled" ng-show="getImportedItemUnavailableStatus(item)"> Unavailable for this service </div> <!-- Overlay: drag-over --> <div class="showcase-overlay"></div> </div> <div class="caption text-i">{{item.Title}}</div> </div> </div> </div> </div> </div> <!-- Personalize --> <div ng-switch-when="2"> <p class="container-x text-p"> Introduce yourself to potential Buyers <span class="optional-header-part text-grey" ng-if="service.interview.isMandatory">(strongly reccomended)</span> </p> <!-- !textonly --> <div ng-show="!panels[2].textonly"> <div class="wrapper-icons" ng-if="!service.interview.videoUrl"> <div class="container-y flex-content-centered" ng-click="showCameraTagModal()"> <div class="import-link bg-grey-dark text-white clickable"> <span class="glyphicon glyphicon-facetime-video"></span> </div> <div class="label-import-link">Upload or record a video from your webcam or phone</div> </div> </div> <!-- interview video --> <!--                <video id='interviewPlayer' data-uuid={{service.interview.videoUuid}} data-options='{"aspectratio": "4:3"}'></video>--> <div class="container-y flex-content-centered flex-1" ng-if="service.interview.videoUrl"> <div class="space-top-2x"> <video ng-src="{{service.interview.videoUrl | trusted}}" controls></video> </div> <div class="container-x flex-items-centered flex-wrap space-top space-bottom-2x"> <span class="space-after text-p">Your video is ready and will be shown on your profile. If you are not happy with the result you can</span> <span class="btn no-padding btn-link text-p space-after" ng-click="showCameraTagModal()"> re-record </span> <span class="text-p">it.</span> </div> </div> <div ng-hide="service.interview.videoUrl"> <div class="text-p">A picture is 1000 words and a video is 1000 pictures. In a minute, video tells Buyers why they should buy from you.</div> <p class="text-p">In your recording, try to give short sharp answers within 1 minute to the following (You will be able to view the video at the end of the recoring if you want):</p> </div> </div> <!-- Service interview --> <p class="text-p italic" ng-if="service.interview && !service.interview.videoUrl" ng-bind-html="service.interview.sellerLabel"></p> <textarea ng-if="panels[2].textonly" placeholder="Type your answers here" ng-model="service.interview.answer"></textarea> <!-- Switch textonly state --> <button class="btn no-padding btn-link text-p" ng-click="toggleTextOnly()"> <span ng-show="!panels[2].textonly">Switch to text instead</span> <div ng-show="panels[2].textonly"> <span class="glyphicon glyphicon-facetime-video text-blue"></span> <span>Record a video and increase your chances to be approved</span> </div> </button> <!-- Service options: !PriceDiscriminator --> <div ng-repeat="option in service.options | filter: { isPriceDiscriminator: false }" class="space-top-bottom-2x"> <p class="text-p-bold">{{ option.sellerTitle }}</p> <div class="container-x" ng-if="option.choices.length < 5" ng-repeat="choice in option.choices"> <input type="checkbox"> <div class="text-i space-left">{{ choice.name }}</div> </div> <div class="container-x"> <button ng-if="option.choices.length > 5" class="btn btn-default" data-multiple="1" ng-model="selectedChoices" ng-options="choice.name as choice.name for choice in option.choices" bs-select> </button> </div> </div> <!-- Service fields --> <div ng-if="service.fields.length > 0"> <p class="text-p-bold">{{ field.sellerLabel }}</p> <textarea placeholder="Type your answers here" ng-model="service.fields[0].answer"></textarea> </div> </div> <!-- Pricing --> <div ng-switch-when="3" class="pricing"> <!-- Price Discriminators > 1 --> <div ng-repeat="option in priceDiscriminators"> <!-- Choices > 1 --> <div ng-if="option.choices.length > 1" class="container-x"> <div class="text-p-bold">Set your price and deadline for the following service configurations</div> <div class="optional-header-part text-i text-grey">(leave blank if you don't want to offer a particular one)</div> </div> <!-- Choices === 1 --> <div ng-if="option.choices.length === 1" class="text-p-bold">Set your price and deadline for this service</div> <div class="wrapper-disc"> <form name="PriceDiscriminatorForm" role="form"> <!-- Choices > 1 --> <div ng-if="option.choices.length > 1" class="container-y"> <div ng-repeat="choice in option.choices"> <div ng-form class="form-group" name="innerForm"> <!-- input row --> <div class="container-x"> <div class="container-x wrapper-half"> <div class="choice-name">{{ choice.name }}</div> <div class="flex-1"> <div class="separator-text">$</div> <div class="wrapper-price"> <input type="number" fv-dynamic-name="$index" class="form-control input-s" min="0" ng-model="choice.price" placeholder="0" ng-blur="saveOfferedChoice(choice)" ng-required="true" fv-positive-num-validation> </div> <div class="separator-text text-grey">in</div> <button type="button" class="btn btn-default text-p-bold btn-small select-deadline" ng-model="choice.days" data-html="1" ng-options="deadline for deadline in deadlines" placeholder="{{choice.days}} days" ng-change="saveOfferedChoice(choice)" bs-select> </button> </div> </div> <div class="flex-shrink-10"></div> </div> </div> </div> </div> <!-- Choices === 1 --> <div ng-if="option.choices.length === 1" class="container-x"> <div class="container-x wrapper-half"> <div class="flex-1"> <div class="text-m text-light flex-content-centered separator-text-l">$</div> <input type="number" name="inputPrice" class="form-control input-s input-price" ng-model="option.choices[0].price" placeholder="0" min="0" ng-blur="saveOfferedChoice(option.choices[0])" ng-required="true" fv-positive-num-validation> <!-- Price discriminators are always days discriminators too --> <div class="separator-text text-grey">to be delivered in</div> <button type="button" class="btn btn-default text-p-bold btn-small select-deadline" ng-model="option.choices[0].days" data-html="1" ng-options="deadline for deadline in deadlines" placeholder="{{option.choices[0].days}} days" ng-change="saveOfferedChoice(option.choices[0])" bs-select> </button> </div> </div> <div class="flex-shrink-10"></div> </div> </form> </div> </div> <!-- Price Addons --> <div ng-if="addons.length > 0"> <div class="container-x flex-wrap"> <div class="text-p-bold">Set the extra price you charge and the extra time you need for the following add-ons</div> <div class="optional-header-part text-i text-grey">(leave blank if you don't want to offer a particular one)</div> </div> <div class="wrapper-disc"> <form name="OfferAddonsForm" role="form"> <div class="container-y"> <div ng-repeat="option in addons"> <div ng-form class="form-group" name="innerForm"> <div class="container-x"> <div class="container-x wrapper-half"> <div class="choice-name">{{ option.sellerTitle }}</div> <div class="flex-2"> <div class="container-x"> <div class="separator-text-l">extra</div> <div class="separator-text">$</div> </div> <div class="wrapper-price"> <!-- Addons always have just one choice --> <input type="number" fv-dynamic-name="$index" class="form-control input-s input-price" ng-model="option.choices[0].price" placeholder="0" ng-required="true" min="0" ng-blur="saveOfferedChoice(option.choices[0])" fv-positive-num-validation> </div> <div class="container-x" ng-if="!option.overridesDays"> <div class="separator-text text-grey">in</div> <button type="button" class="btn btn-default text-p-bold btn-small select-deadline" ng-model="option.choices[0].days" data-html="1" ng-options="deadline for deadline in extraDeadlines" placeholder="{{option.choices[0].days}} extra days" ng-change="saveOfferedChoice(option.choices[0])" bs-select> </button> </div> </div> </div> <div class="flex-shrink-10"></div> </div> </div> </div> </div> </form> </div> </div> </div> </div> </div> </div> <div ng-if="panels.activePanel === $index && !($index === 1 && activeWorkSamples === 'imported')" class="wrapper-btn-done flex-content-end"> <button class="button btn btn-blue" ng-click="closePanel(panel)"> <span ng-if="panels.activePanel === 0">I got it</span> <span ng-if="panels.activePanel > 0" ng-disabled="uploadInProgress">Done</span> </button> </div> <div ng-if="$index === 1 && activeWorkSamples === 'imported'" class="wrapper-btn-done flex-content-end"> <button class="button btn btn-blue" ng-click="saveImportedPortfolios()" ng-disabled="saveImportedDataInProgress"> <div class="container-x flex-content-centered"> <span ng-if="panels.activePanel > 0">Save</span> <div class="wrapper-loader space-left" ng-show="saveImportedDataInProgress"> <div class="loader"></div> </div> </div> </button> </div> </div> </div> </div>